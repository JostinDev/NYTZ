import Head from 'next/head'
import React, {useEffect} from "react";
import Hero from "../components/hero"
import Nav from "../components/nav"
import Image from "next/image";
import whale from "../../public/whale.png";
import tabs from "../../public/tabs.png";

export default function Home() {

	useEffect(() => {
		const heroHeight = document.querySelector('.hero')
		const firstSection = document.querySelector("#firstSection")
		firstSection.style.marginTop = heroHeight.clientHeight + 'px'
	},);


	function moveTab(event) {
		const dest = event.target.getBoundingClientRect();
		const tab = document.querySelector("#tab").getBoundingClientRect();
		const bubbleTab = document.querySelector("#bubbleTab");

		const bubbleTabWidth = 40 * 2 + event.target.offsetWidth
		const offset = bubbleTabWidth / 2 - event.target.offsetWidth / 2

		bubbleTab.style.width = bubbleTabWidth + 'px'

		bubbleTab.style.right = 'auto'
		bubbleTab.style.left = dest.left - tab.left - offset + 'px'
	}


	return (
		<>
			<Head>
				<title>NYTZ - STUDIO</title>
				<meta name="description" content="Generated by create next app"/>
				<meta name="viewport" content="width=device-width, initial-scale=1"/>
				<link rel="icon" href="/favicon.ico"/>
			</Head>
			<main>
				<Nav></Nav>
				<div className="hero mx-auto px-12 fixed bg-neutral-900 w-full z-10">
					<Hero></Hero>
				</div>

				<div id='firstSection' className='mt-10 rounded-3xl py-40 px-24 bg-zinc-50 dark:bg-neutral-900 z-20 relative'>
					<p className='text-7xl text-dark dark:text-white text-center'>What we do</p>

					<div id='tab' className='relative flex flex-row justify-between w-full bg-nytz-cream rounded-full h-[100px] items-center px-10'>
						<span id='bubbleTab' className='absolute bg-nytz-dark w-[280px] h-[100px] rounded-full left-0'>

						</span>
						<p id='tab1' className='z-10 cursor-pointer px-10 py-8' onClick={moveTab}>3D Projects</p>
						<p id='tab2' className='z-10 cursor-pointer px-10 py-8' onClick={moveTab}>UI & UX Design</p>
						<p id='tab3' className='z-10 cursor-pointer px-10 py-8' onClick={moveTab}>Coding</p>
						<p id='tab4' className='z-10 cursor-pointer px-10 py-8' onClick={moveTab}>Video- & Photography</p>
					</div>

					<Image
						id='heroImage'
						className='w-full rounded-3xl'
						src={whale}
						alt="Picture of the author"
						placeholder='blur'
					/>

					<Image
						id='heroImage'
						className='w-full rounded-3xl py-40'
						src={whale}
						alt="Picture of the author"
						placeholder='blur'
					/>
				</div>
			</main>
		</>
	)
}
